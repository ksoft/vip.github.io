<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jlt.datasync.mapper.saas.SsmEoLogisticsOrderMapper">
    <resultMap type="com.jlt.datasync.domain.SsmEoLogisticsOrder" id="ssmEoLogisticsOrderResultMap">
        <result property="id" column="ID"/>
        <result property="tenantId" column="tenant_id"/>
        <result property="eloNo" column="elo_no"/>
        <result property="custEloNo" column="cust_elo_no"/>
        <result property="eloStatus" column="elo_status"/>
        <result property="isHandle" column="is_handle"/>
    </resultMap>
    <sql id="select">
		<![CDATA[



			SELECT
					ID,
					tenant_id,
					elo_no,
					cust_elo_no,
					elo_status




        ]]>
	</sql>

    <sql id="findByExample">
        WHERE 1=1
        <if test="id!=null">AND ID = #{id}</if>
        <if test="tenantId!=null">AND ID = #{id}</if>
    </sql>

    <select id="getUnHandleOrder" resultMap="ssmEoLogisticsOrderResultMap">
        <include refid="select"/>
        from ssm_eo_logistics_order
        <include refid="findByExample"/>
        and is_handle = 1
    </select>

    <update id="batchUpdateByEloNo" parameterType="java.util.List">
        UPDATE
        ssm_eo_logistics_order
        SET
        is_handle = 0,handle_time = now()
        WHERE
        elo_no IN
        <foreach collection="list" item="item" separator="," index="index" open="(" close=")">
            #{item}
        </foreach>
    </update>

    <delete id="bacthDeleteByEloNo" parameterType="java.util.List">
        DELETE FROM GY_DISPATCH_ORDER WHERE 1=1 AND OWB_EC_NO IN
        <foreach collection="list" item="item" separator="," index="index" open="(" close=")">
            #{item}
        </foreach>
    </delete>
</mapper>
